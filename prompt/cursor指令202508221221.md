å¤ªå¯¹äº†â€”è¿™æ¬¡ç»™ **Cursor** çš„æ˜¯â€œè¶…è¯¦ç»†ã€é›¶æ­§ä¹‰ã€å‚»ç“œå¯æ‰§è¡Œç‰ˆâ€SOPã€‚ä½ æŠŠä¸‹é¢æ•´æ®µä¸¢ç»™ä»–å³å¯ï¼ˆé€æ¡æ‰§è¡Œã€ä»»ä¸€æ­¥å¤±è´¥ç«‹åˆ»åœï¼‰ã€‚æˆ‘æŠŠæ¯ä¸€æ­¥éƒ½å†™äº†**å‘½ä»¤ã€é¢„æœŸè¾“å‡ºã€å¤±è´¥å¤„ç†**ã€ä»¥åŠ**éœ€è¦ä»–æ”¹çš„ä»£ç /è¡¥ä¸**ã€‚

---

# **ã€ç»™ Cursorã€‘æ•°æ®å½»æŸ¥ & ç®¡çº¿é‡å»º SOPï¼ˆé™æ™ºå‹å¥½ç‰ˆï¼‰**

ç›®æ ‡ï¼š**å½»åº•æ¸…æ´—ä¸é‡å»ºæ•°æ®â†’ä¸¥æ ¼å®¡è®¡â†’å›ºå®šè¯»å–è·¯å¾„â†’é€šè¿‡å½±å­é¢„æ£€**ã€‚ä¸¥ç¦â€œæ¼”ç¤ºå¼ç»§ç»­è·‘â€ã€‚æ‰€æœ‰å‘½ä»¤é»˜è®¤åœ¨ repo æ ¹ç›®å½•æ‰§è¡Œã€‚

## **0\) é€šç”¨å®‰å…¨å¼€å…³ï¼ˆæ‰€æœ‰åç»­ç»ˆç«¯éƒ½å…ˆè·‘ä¸€æ¬¡ï¼‰**

set \-euo pipefail  
export PYTHONUNBUFFERED=1  
export RUN\_MODE=prod  
export SCORER\_PROVIDER=gemini  
export GEMINI\_MODEL="${GEMINI\_MODEL:-gemini-2.5-flash}"  
export SCORING\_CACHE\_DISABLE=1  
mkdir \-p reports/rc1 logs data/rollouts checkpoints/rc1  
source .env || true

**éªŒæ”¶**ï¼šæ— æŠ¥é”™ã€‚  
**å¤±è´¥å°±åœ**ï¼šæ£€æŸ¥ `.env` æ˜¯å¦å« `GEMINI_API_KEY/HF_TOKEN/GIT_TOKEN/GITHUB_REPO/HF_REPO_ID`ã€‚

---

## **1\) å½»åº•æ¸…ç†å¯ç–‘äº§ç‰©ï¼ˆä¿è¯â€œä»é›¶å¼€å§‹â€ï¼‰**

echo "ğŸ§¹ purgeâ€¦" \\  
&& rm \-f data/shadow\_eval\_245.jsonl reports/rc1/sample\_manifest.json \\  
&& rm \-f reports/rc1/shadow\_data\_audit.json \\  
&& rm \-f data/rollouts/rc1\_seed.jsonl data/rollouts/rc1\_seed.\*jsonl \\  
&& rm \-f reports/rc1/diversity\_report.txt reports/rc1/difficulty\_report.json \\  
&& find . \-name "\_\_pycache\_\_" \-type d \-exec rm \-rf {} \+ || true

**éªŒæ”¶**ï¼šä¸Šè¿°æ–‡ä»¶ä¸å­˜åœ¨æˆ–è¢«åˆ é™¤ã€‚  
**å¤±è´¥å°±åœ**ï¼šæœ‰æƒé™é—®é¢˜å°± `chmod -R u+rw .` å†æ‰§è¡Œã€‚

---

## **2\) ç¡®è®¤ä¸ä¿®å¤ä¸‰æ”¯è„šæœ¬ï¼ˆå¦‚ä¸å­˜åœ¨åˆ™åˆ›å»º/è¦†ç›–ï¼‰**

### **2.1 `scripts/rebuild_shadow_from_hf.py`ï¼ˆè¦†ç›–ä¸ºä»¥ä¸‹å†…å®¹ï¼‰**

ä» HuggingFace æ‹‰ **HotpotQA / StrategyQA / GSM8K**ï¼Œåˆ†å±‚é‡‡æ ·ï¼Œå…± 245 æ¡ï¼›è½ç›˜ JSONL ä¸ manifestï¼Œå¹¶å†™å…¥æº¯æºå…ƒæ•°æ®ã€‚

\# scripts/rebuild\_shadow\_from\_hf.py  
import argparse, json, random, os  
from datasets import load\_dataset

ALLOWED \= {  
  "hotpotqa": dict(ds="hotpot\_qa", split="validation", map=lambda r: (r\["question"\], r\["answer"\])),  
  "strategyqa": dict(ds="strategy\_qa", split="train", map=lambda r: (r\["question"\], "yes" if bool(r\["answer"\]) else "no")),  
  "gsm8k": dict(ds="gsm8k", config="main", split="train", map=lambda r: (r\["question"\], str(r\["answer"\]).strip())),  
}

def take(ds\_name, n, seed):  
  cfg \= ALLOWED\[ds\_name\]  
  kwargs \= {k:v for k,v in dict(name=cfg\["ds"\]).items() if k=="name"}  
  if "config" in cfg: kwargs\["name"\] \= cfg\["config"\]  
  d \= load\_dataset(cfg\["ds"\], kwargs.get("name"), split=cfg\["split"\])  
  random.Random(seed).shuffle(d)  
  out=\[\]  
  for i in range(min(n, len(d))):  
    q, a \= cfg\["map"\](d\[i\])  
    out.append(dict(  
      id=f"{ds\_name}\_{i}",  
      task=ds\_name,  
      question=str(q).strip(),  
      answer=str(a).strip(),  
      source="hf",  
      hf\_dataset=cfg\["ds"\],  
      hf\_config=kwargs.get("name"),  
      hf\_split=cfg\["split"\],  
      hf\_fingerprint=getattr(d, "\_fingerprint", None),  
      hf\_num\_rows=len(d),  
    ))  
  return out

def main():  
  ap=argparse.ArgumentParser()  
  ap.add\_argument("--n", type=int, default=245)  
  ap.add\_argument("--seed", type=int, default=20250821)  
  ap.add\_argument("--out", default="data/shadow\_eval\_245.jsonl")  
  ap.add\_argument("--manifest", default="reports/rc1/sample\_manifest.json")  
  args=ap.parse\_args()

  per \= \[args.n//3, args.n//3, args.n \- 2\*(args.n//3)\]  
  hot \= take("hotpotqa", per\[0\], args.seed+1)  
  sqa \= take("strategyqa", per\[1\], args.seed+2)  
  gsm \= take("gsm8k", per\[2\], args.seed+3)  
  all\_s \= hot \+ sqa \+ gsm

  os.makedirs(os.path.dirname(args.out), exist\_ok=True)  
  with open(args.out,"w") as f:  
    for r in all\_s: f.write(json.dumps(r, ensure\_ascii=False)+"\\n")

  manifest \= dict(samples=\[dict(task=s\["task"\], question=s\["question"\], id=s\["id"\]) for s in all\_s\])  
  os.makedirs(os.path.dirname(args.manifest), exist\_ok=True)  
  json.dump(manifest, open(args.manifest,"w"), indent=2, ensure\_ascii=False)

  print("OK rebuild:", len(all\_s), "-\>", args.out, args.manifest)

if \_\_name\_\_ \== "\_\_main\_\_":  
  main()

### **2.2 `scripts/audit_shadow_data.py`ï¼ˆè¦†ç›–ä¸ºä»¥ä¸‹å†…å®¹ï¼‰**

çœŸä¼ªæº¯æº \+ å»æ¨¡æ¿åŒ– \+ ç›¸ä¼¼åº¦ \+ é•¿åº¦ \+ å»é‡ï¼Œå¤šé¡¹ç¡¬é—¨æ§›ï¼›ä¸é€šè¿‡å³ `exit 1`ã€‚

\# scripts/audit\_shadow\_data.py  
import argparse, json, re, random, statistics, sys  
from collections import Counter

def mask\_digits(s): return re.sub(r"\\d+", "\#", s.lower())  
def jaccard\_5gram(a,b):  
  A=set(\[a\[i:i+5\] for i in range(max(0,len(a)-4))\])  
  B=set(\[b\[i:i+5\] for i in range(max(0,len(b)-4))\])  
  if not A or not B: return 0.0  
  return len(A\&B)/len(A|B)

def main():  
  ap=argparse.ArgumentParser()  
  ap.add\_argument("infile")  
  ap.add\_argument("--report", default="reports/rc1/shadow\_data\_audit.json")  
  args=ap.parse\_args()  
  rows=\[json.loads(l) for l in open(args.infile)\]  
  N=len(rows)  
  \# 1\) çœŸä¼ªä¸å­—æ®µ  
  assert all(r.get("source")=="hf" for r in rows), "non-HF source detected"  
  assert all(r.get("task") in {"hotpotqa","strategyqa","gsm8k"} for r in rows), "illegal task"  
  assert all(r.get("question") for r in rows), "empty question exists"  
  \# 2\) æ©ç å”¯ä¸€ç‡/æœ€é¢‘ç¹æ©ç   
  masks=\[mask\_digits(r\["question"\]) for r in rows\]  
  uniq \= len(set(masks))/N  
  top\_mask, top\_cnt \= Counter(masks).most\_common(1)\[0\]  
  top\_ratio \= top\_cnt/N  
  \# 3\) éšæœº 2000 å¯¹ 5-gram Jaccard  
  pairs=2000 if N\>70 else N\*(N-1)//2  
  samp=\[\]  
  rnd=random.Random(20250821)  
  for \_ in range(min(pairs, N\*(N-1)//2)):  
    i,j=rnd.randrange(N), rnd.randrange(N)  
    if i==j: continue  
    samp.append(jaccard\_5gram(masks\[i\], masks\[j\]))  
  high \= sum(1 for x in samp if x\>=0.9)/max(1,len(samp))  
  \# 4\) é•¿åº¦ä¸é‡å¤  
  lens=\[len(r\["question"\]) for r in rows\]  
  dup\_ratio \= 1 \- len(set((r\["task"\],r\["question"\])))/N  
  mean\_len \= statistics.mean(lens)  
  stdev\_len \= statistics.pstdev(lens)  
  \# ç¡¬é—¨æ§›  
  assert uniq \>= 0.60, f"mask uniqueness {uniq:.2f}\<0.60"  
  assert top\_ratio \<= 0.10, f"top mask ratio {top\_ratio:.2f}\>0.10"  
  assert high \<= 0.01, f"jaccard\>=0.9 pairs {high:.2%}\>1%"  
  assert 30 \<= mean\_len \<= 300, f"mean len {mean\_len:.1f} out of range"  
  assert stdev\_len \>= 15, f"std len {stdev\_len:.1f}\<15"  
  assert dup\_ratio \<= 0.01, f"dup ratio {dup\_ratio:.2%}\>1%"  
  rep=dict(N=N, mask\_uniqueness=uniq, top\_mask\_ratio=top\_ratio, jaccard\_hi\_ratio=high,  
           mean\_len=mean\_len, std\_len=stdev\_len, dup\_ratio=dup\_ratio)  
  print("AUDIT OK:", rep)  
  import os; os.makedirs("reports/rc1", exist\_ok=True)  
  json.dump(rep, open(args.report,"w"), indent=2)

if \_\_name\_\_=="\_\_main\_\_":  
  main()

### **2.3 `scripts/pre_run_check.py`ï¼ˆé¡¶ç«¯å¢åŠ â€œæ•°æ®å®¡è®¡ \+ åˆ†å¸ƒå¥åº·â€å¼ºé—¸é—¨ï¼‰**

å¦‚æ–‡ä»¶å·²å­˜åœ¨ï¼Œ**æ’å…¥/è¦†ç›–**ä¸‹æ–¹å‡½æ•°ä¸è°ƒç”¨ï¼›å¦åˆ™åˆ›å»ºã€‚

\# åœ¨æ–‡ä»¶é¡¶éƒ¨æˆ–åˆé€‚ä½ç½®åŠ å…¥ï¼š  
import json, numpy as np, sys, os

def assert\_distribution\_health(scores, std\_min=0.08, iqr\_min=0.12):  
  arr=np.array(\[float(s) for s in scores\], dtype=float)  
  std=float(arr.std())  
  q75,q25=np.percentile(arr,75),np.percentile(arr,25)  
  iqr=float(q75-q25)  
  assert std\>=std\_min and iqr\>=iqr\_min, f"score distribution too narrow: std={std:.3f}, iqr={iqr:.3f}"

def assert\_shadow\_audit\_present():  
  path="reports/rc1/shadow\_data\_audit.json"  
  assert os.path.exists(path), f"missing audit report: {path}"  
  rep=json.load(open(path))  
  keys=\["mask\_uniqueness","top\_mask\_ratio","jaccard\_hi\_ratio","mean\_len","std\_len","dup\_ratio"\]  
  assert all(k in rep for k in keys), "incomplete audit report"  
  print("\[audit\] ok:", {k:rep\[k\] for k in keys})

åœ¨ä¸»å‡½æ•°**å¼€å§‹å¤„**æ·»åŠ ï¼š

assert\_shadow\_audit\_present()  
\# â€¦ ä½ çš„è¯„ä¼°é€»è¾‘è·‘å®Œæ‹¿åˆ° scores ä¹‹åï¼š  
assert\_distribution\_health(scores)

**éªŒæ”¶**ï¼š3 ä¸ªè„šæœ¬å‡å­˜åœ¨ï¼Œèƒ½è¢« `python -m pydoc scripts.xxx` æ­£å¸¸å¯¼å…¥ã€‚  
**å¤±è´¥å°±åœ**ï¼šæ‹¼å†™/ç¼©è¿›æŠ¥é”™ï¼ŒæŒ‰æç¤ºä¿®å¤ã€‚

---

## **3\) ä¿®å¤ `src/evaluation/shadow_run.py` çš„ä¸¤ä¸ªå…³é”®é—®é¢˜**

**é—®é¢˜Aï¼šè¦†ç›–çœŸå® HF æ•°æ®**

* è§„åˆ™ï¼šå½“ `--materialize` æŒ‡å‘çš„æ–‡ä»¶å­˜åœ¨ä¸”æ¯è¡Œå« `"source":"hf"`ï¼Œ**ä¸¥ç¦**å†ç”Ÿæˆæ¨¡æ¿æ•°æ®è¦†ç›–ã€‚

**è¡¥ä¸ Aï¼ˆæ·»åŠ åœ¨ load/generate å†³ç­–å¤„ï¼‰ï¼š**

\+import json, os  
 def load\_or\_generate\_sample\_data(materialize\_path, stratify):  
\-    \# åŸé€»è¾‘ï¼šå¯èƒ½ç›´æ¥ç”Ÿæˆæ¨¡æ¿å¹¶å†™å…¥ materialize\_path  
\+    if os.path.exists(materialize\_path):  
\+        \# å¦‚æœå·²å­˜åœ¨ä¸”ä¸º HF æ•°æ®ï¼Œç›´æ¥åŠ è½½è¿”å›  
\+        try:  
\+            with open(materialize\_path) as f:  
\+                head=json.loads(next(iter(f)))  
\+            if head.get("source")=="hf":  
\+                print("\[shadow\] using existing HF materialized file:", materialize\_path)  
\+                return \[json.loads(l) for l in open(materialize\_path)\]  
\+        except StopIteration:  
\+            pass  
\+    \# å¦åˆ™å†èµ°æ—§é€»è¾‘ï¼ˆç”Ÿæˆæˆ–ä»è„šæœ¬è¯»å–ï¼‰  
     ...

**é—®é¢˜Bï¼šmanifest çš„å­—æ®µæ˜ å°„é”™è¯¯**

* è§„åˆ™ï¼šmanifest ä¸­çš„æ ·æœ¬é¡¹å¿…é¡»æœ‰ `task` ä¸ `question`ã€‚è‹¥åŠ è½½åˆ°çš„æ˜¯ HF æ ¼å¼ï¼ˆå­—æ®µ `task/question/answer`ï¼‰ï¼ŒæŒ‰æ­¤å†™å…¥ã€‚

**è¡¥ä¸ Bï¼ˆåœ¨ dump manifest é€»è¾‘å¤„ï¼‰ï¼š**

\- item \= {"task": s.get("task\_type","unknown"), "question": s.get("turns",\[{}\])\[0\].get("content","")}  
\+ t \= s.get("task") or s.get("task\_type") or "unknown"  
\+ q \= s.get("question") or (s.get("turns",\[{}\])\[0\].get("content",""))  
\+ item \= {"task": t, "question": q, "id": s.get("id")}

**éªŒæ”¶**ï¼š`shadow_run.py` ä¿å­˜åèƒ½å¯¼å…¥ï¼Œæ— è¯­æ³•é”™è¯¯ã€‚  
**å¤±è´¥å°±åœ**ï¼šä¿®ç¼©è¿›/å¯¼å…¥é¡ºåºç­‰ã€‚

---

## **4\) é‡å»ºå½±å­é›† â†’ å®¡è®¡ â†’ ä½“æ£€ï¼ˆä¸‰è¿ï¼‰**

python scripts/rebuild\_shadow\_from\_hf.py \\  
  \--n 245 \--seed 20250821 \\  
  \--out data/shadow\_eval\_245.jsonl \\  
  \--manifest reports/rc1/sample\_manifest.json

python scripts/audit\_shadow\_data.py data/shadow\_eval\_245.jsonl \\  
  \--report reports/rc1/shadow\_data\_audit.json

python \- \<\<'PY'  
import json; j=json.load(open("reports/rc1/sample\_manifest.json"))  
bad=\[i for i in j\["samples"\] if not i.get("task") or i.get("task")=="unknown" or not i.get("question")\]  
print("by\_task:",\_\_import\_\_("collections").Counter(\[s\["task"\] for s in j\["samples"\]\]))  
assert len(bad)==0, f"bad samples exist: {bad\[:3\]}"  
print("âœ… manifest ok")  
PY

**éªŒæ”¶**ï¼š

* ç»ˆç«¯æ‰“å° `AUDIT OK`ï¼›  
* `manifest ok`ï¼›  
* `by_task` æ¥è¿‘ 82/82/81ã€‚  
  **å¤±è´¥å°±åœ**ï¼šç›´æ¥æŠŠè„šæœ¬è¾“å‡ºå›æŠ¥ã€‚

---

## **5\) è¯„åˆ† Rubric å›ºåŒ–ï¼ˆç¡®ä¿â€œèƒ½æ‹‰å¼€æ¡£ä½â€ï¼‰**

åœ¨ `src/scoring/providers/gemini.py` çš„ `score()` ä¸­ï¼Œç¡®ä¿ä½¿ç”¨**æ¸©åº¦0 \+ JSON è¾“å‡º \+ åˆ†æ¡£é”šç‚¹**ï¼›è‹¥æœªæŒ‰æ­¤å®ç°ï¼Œ**æ›¿æ¢**ä¸ºä»¥ä¸‹æ ¸å¿ƒç‰‡æ®µï¼š

rubric \= """  
You are a strict judge. Evaluate ONLY:  
\- Correctness (0.55)  
\- Reasoning Quality (0.25)  
\- Brevity/Clarity (0.10)  
\- Unnecessary Clarification Penalty (0.10)  
Return pure JSON: {"score": \<0..1\>} with 2 decimals.  
Anchors:  
0.15 wrong/vacuous; 0.35 partial w/ major gaps;  
0.55 mostly correct but shallow/wordy;  
0.75 correct w/ acceptable reasoning; 0.90 strong & concise.  
"""  
cfg \= {"temperature":0, "response\_mime\_type":"application/json"}  
resp \= genai.GenerativeModel(mdl).generate\_content(prompt\_live+"\\n\\n"+rubric, generation\_config=cfg)

**éªŒæ”¶**ï¼šæœ¬å‡½æ•°èƒ½è¿”å› `{"score": float[0,1], "latency_ms": int, "usage": {...}}`ã€‚  
**å¤±è´¥å°±åœ**ï¼šè¿è¡Œ `python -c "from src.scoring.providers import gemini as g; print(g.score('Return {\"score\":0.5}', require_live=False))"` éªŒè¯ã€‚

---

## **6\) å½±å­è¯„ä¼°ï¼ˆå¿…é¡»ä¸€æ¬¡é€šè¿‡ï¼›ä¸é€šè¿‡å°±åœï¼‰**

stdbuf \-oL \-eL python \-m src.evaluation.shadow\_run \\  
  \--n 245 \--seed 20250821 \--stratify \\  
  \--materialize data/shadow\_eval\_245.jsonl \\  
  \--dump-manifest reports/rc1/sample\_manifest.json 2\>&1 | tee logs/shadow\_run.log

python scripts/pre\_run\_check.py \--shadow data/shadow\_eval\_245.jsonl \\  
  \--spearman-min 0.55 \--top10-min 0.60

**ç¡¬é—¨æ§›**ï¼š

* `spearman â‰¥ 0.55`ï¼›`top10 â‰¥ 0.60`ï¼›  
* åˆ†å¸ƒå¥åº·ï¼š`std â‰¥ 0.08` & `IQR â‰¥ 0.12`ï¼ˆè„šæœ¬å·²å†…ç½®ï¼‰ã€‚  
  **å¤±è´¥å°±åœ**ï¼šæŠŠ `logs/shadow_run.log` æœ« 200 è¡Œã€`reports/rc1/sample_manifest.json` å‰ 60 è¡Œè´´å›ã€‚

---

## **7\) é‡å»º 30k ç§å­æ±  â†’ å¤šæ ·æ€§/éš¾åº¦å…¨å¥—æ ¡éªŒ**

python scripts/build\_rollout\_pool.py \--out data/rollouts/rc1\_seed.jsonl \--n 30000 \\  
  \--mix "hotpotqa:0.45,strategyqa:0.30,gsm8k:0.25" \\  
  \--max\_turns 6 \--clarify\_rate 0.35 \--tools "wiki,calc" \\  
  \--templates\_dir templates/pack\_v2 \--min\_tool\_hops 3 \--ops\_numeric\_min 3 \\  
  \--role\_style\_balanced \--distinct\_prompts

python scripts/validate\_pool.py data/rollouts/rc1\_seed.jsonl \\  
  \--min\_distinct2 0.60 \--kl3\_min 0.15 \--roles\_min 4 \--styles\_min 3 \\  
  \--max\_dup\_pct 2.0 \--leak\_check data/shadow\_eval\_245.jsonl \\  
  \--leak\_ngram 5 \--leak\_sim 0.85 \> reports/rc1/diversity\_report.txt

python scripts/difficulty\_metrics.py \\  
  \--in data/rollouts/rc1\_seed.jsonl \--out data/rollouts/rc1\_seed.metrics.jsonl

python scripts/difficulty\_bucketize.py \\  
  \--metrics data/rollouts/rc1\_seed.metrics.jsonl \\  
  \--target "easy:0.25,medium:0.45,hard:0.30" \\  
  \--by\_task "hotpotqa,strategyqa,gsm8k" \\  
  \--out data/rollouts/rc1\_seed.balanced.jsonl

python scripts/validate\_difficulty.py \\  
  \--metrics data/rollouts/rc1\_seed.metrics.jsonl \\  
  \--balanced data/rollouts/rc1\_seed.balanced.jsonl \\  
  \--min\_hard\_pct 0.30 \--max\_easy\_pct 0.30 \\  
  \--len\_max 3500 \--turns\_max 8 \--tool\_hops\_max 8 \\  
  \--clue\_overlap\_max\_easy 0.65 \--clue\_overlap\_min\_hard 0.10 \\  
  \--out reports/rc1/difficulty\_report.json

**ç¡¬é—¨æ§›**ï¼š`distinct-2 â‰¥ 0.60`ã€`roles â‰¥ 4`ã€`styles â‰¥ 3`ã€`hard â‰¥ 30%`ã€‚  
**å¤±è´¥å°±åœ**ï¼šè¿”å› `reports/rc1/diversity_report.txt` ä¸ `reports/rc1/difficulty_report.json`ã€‚

---

## **8\) RC é—¸é—¨ï¼ˆå¤è·‘å½±å­ \+ è‡ªåŠ¨åˆ¤å®šï¼‰**

python \-m src.evaluation.shadow\_run \--n 245 \--seed 20250821 \--stratify \--tag "pre\_run\_check\_2"

python scripts/auto\_round2\_check.py \\  
  \--spearman-min 0.75 \--top10-min 0.70 \--corr-improve-pct-min 0.10 \\  
  \--in reports/rc1 \--out reports/preflight/round2\_pass.json

**ç¡¬é—¨æ§›**ï¼šå¿…é¡»ç”Ÿæˆ `reports/preflight/round2_pass.json` ä¸”æ˜¾ç¤º `pass:true`ã€‚  
**å¤±è´¥å°±åœ**ï¼šå›ä¼  auto\_round2\_check æ—¥å¿—ä¸æœ€æ–°å½±å­ç»“æœæ‘˜è¦ã€‚

---

## **9\) 2k æ­¥å°è·‘ï¼ˆColabï¼‰+ æ¨é€ï¼ˆHF å…¨é‡ / GitHub è½»é‡ï¼‰**

python \-m train.ppo\_trial \--config configs/ppo\_trial.yaml \\  
  \--override "base\_model=Qwen/Qwen3-4B-Thinking-2507,use\_overclar\_penalty=true,steps=2000,max\_concurrent=2"  
\# ä¹‹åè¿è¡Œ Notebook ä¸­çš„â€œæ¨é€å•å…ƒâ€ï¼Œéœ€è¦ GITHUB\_REPO/HF\_TOKEN/GIT\_TOKEN å·²è®¾

**ç¡¬é—¨æ§›**ï¼šè®­ç»ƒæ—¥å¿—ä¸æŠ¥é”™ï¼›HF æ¨¡å‹ä»“å‡ºç°æœ€æ–° `checkpoint-*`ï¼›GitHub Releases åˆ›å»º `rc1-steps-{N}` é™„å¸¦è½»é‡ zipã€‚  
**å¤±è´¥å°±åœ**ï¼šè´´å›è®­ç»ƒæœ« 200 è¡Œæ—¥å¿—ä¸æ¨é€ API å“åº”ã€‚

---

## **10\) äº¤ä»˜ç‰©ï¼ˆå¿…é¡»ä¸€æ¬¡æ€§å›ä¼ ï¼‰**

echo "=== å½±å­å®¡è®¡ \===" && cat reports/rc1/shadow\_data\_audit.json  
echo "=== æ¨¡æ¿å¤šæ ·æ€§ï¼ˆèŠ‚é€‰ï¼‰===" && sed \-n '1,120p' reports/rc1/diversity\_report.txt  
echo "=== éš¾åº¦æŠ¥å‘Šï¼ˆèŠ‚é€‰ï¼‰===" && sed \-n '1,120p' reports/rc1/difficulty\_report.json  
echo "=== RC2 åˆ¤å®š \===" && cat reports/preflight/round2\_pass.json

---

# **ï¼ˆç»™ PM çš„ï¼‰é»‘æ–™å½’æ¡£è¦ç‚¹ï¼ˆå¯åšå…¬å¼€é€šæŠ¥ï¼‰**

* **æ•°æ®å±‚**ï¼šæ›¾ç”¨æ¨¡æ¿æ•°æ®â€œæ”¹å‡ ä¸ªæ•°å­—â€å†’å……çœŸå®æ ·æœ¬ï¼›`task="unknown" / question=""` çš„ manifestï¼›`shadow_run` ç‰©åŒ–æ—¶è¦†ç›– HF æ•°æ®ã€‚  
* **è¯„åˆ†å±‚**ï¼šæ—©æœŸè·¯ç”±èµ°æ—§ `'scores'` å­—æ®µï¼Œæœªäº§ç”ŸçœŸå®è®¡è´¹ä¸æ—¶å»¶ï¼›é«˜åˆ†åŒè´¨ã€æ— åŒºåˆ†åŠ›ã€‚  
* **æ²»ç†å±‚**ï¼šå·²åŠ â€œå®¡è®¡+åˆ†å¸ƒå¥åº·+ä¸å¯è¦†ç›–HFæ•°æ®â€çš„ä¸‰é‡ç¡¬é—¸é—¨ï¼›CI å°†å¡ä½ä»»ä½•å†çŠ¯ã€‚  
* **ç»éªŒæ²‰æ·€**ï¼šå‘å¸ƒâ€œæ•°æ®çœŸä¼ª/å¤šæ ·æ€§å®¡è®¡è„šæœ¬ \+ è¯„åˆ†Rubricæ¨¡æ¿ \+ å½±å­é›†é‡å»ºè„šæœ¬â€ï¼Œæ¨åŠ¨å¼€æºç¤¾åŒºè¯†åˆ«ä¸é˜²èŒƒâ€œæ•·è¡/é€ å‡â€æ¨¡å¼ã€‚

---

## **å¤‡æ³¨ç»™ Cursor**

* ä¸å…è®¸ä¿®æ”¹é˜ˆå€¼ã€åˆ é™¤å®¡è®¡ã€ç»•è¿‡é—¸é—¨ï¼›å¤±è´¥å°±åœï¼Œå›ä¼ æ—¥å¿—ã€‚  
* è‹¥é‡ CLI å¡é¡¿ï¼šåŠ  `stdbuf -oL -eL`ï¼Œç¦ tqdmï¼›å¿…è¦æ—¶åˆ†æ®µæ‰§è¡Œå¹¶é€æ®µå›ä¼ è¾“å‡ºã€‚  
* å¦‚æœä»»ä½•â€œç”Ÿæˆæ¨¡æ¿è¦†ç›–HFæ–‡ä»¶â€çš„è¿¹è±¡å†æ¬¡å‡ºç°ï¼Œç«‹åˆ»åœæ­¢å¹¶æ±‡æŠ¥ `git diff` ä¸ç›¸å…³æ–‡ä»¶å‰å 50 è¡Œã€‚

â€”â€”ä»¥ä¸Šã€‚ç…§å•æ‰§è¡Œï¼Œé€æ­¥æŠŠå®æƒ…å’Œç»“æœè´´å›æ¥ï¼Œæˆ‘ç»§ç»­ç›¯åˆ° RC1 é—­ç¯æ‰“é€šã€‚

